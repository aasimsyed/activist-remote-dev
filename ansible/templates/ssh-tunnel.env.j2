# SSH Tunnel Environment Configuration
# Generated by Ansible
#
# Purpose:
# - Provides environment variables for SSH tunnel configuration
# - Used by both LaunchAgent and manual tunnel scripts
# - Ensures consistent configuration across different startup methods
#
# Security:
# - File permissions set to 600 (user read/write only)
# - Contains sensitive connection information
# - Should be stored in user's secure config directory

# Remote host configuration
# ansible_host is automatically populated with droplet's IP
{% if inventory_hostname == 'localhost' %}
DROPLET_IP={{ lookup('env', 'DROPLET_IP') | default('', true) }}
# Debug info:
# inventory_hostname: {{ inventory_hostname }}
# env.DROPLET_IP: {{ lookup('env', 'DROPLET_IP') }}
{% else %}
DROPLET_IP={{ hostvars[inventory_hostname]['ansible_host'] }}
{% endif %}
SSH_KEY_PATH=~/.ssh/id_rsa

# Port forwarding configuration
# These ports must match the application's docker-compose configuration
FRONTEND_PORT=3000  # React development server
BACKEND_PORT=8000   # Django backend API
DB_PORT=5432        # PostgreSQL database

# Tunnel options
# AUTOSSH_GATETIME=0: Removes initial connection delay
# AUTOSSH_PORT=0: Disables monitoring port for cleaner setup
AUTOSSH_GATETIME=0
AUTOSSH_PORT=0

# Variables:
# - DROPLET_IP: Dynamically set from Ansible host information
# - Used by LaunchAgent and shell scripts for tunnel establishment 